webpackJsonp([0],{"0vLp":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n("6Xbx"),n("UHIZ"),n("LMZF"),n("HAwn"),n("2LMR");var s=function(){function t(t,e,n){this.db=t,this.afAuth=e,this.router=n,this.basePath="/users",this.users=null,this.user=null}return t.prototype.isAuthanticated=function(){localStorage.getItem("email")},t.prototype.signup=function(t,e,n,s,o,r,a){var i=this;this.afAuth.auth.createUserWithEmailAndPassword(n,s).then(function(u){i.db.list("/users").push({senderName:t,username:e,email:n,receiverName:o,PassCode:r,startDate:a,messages:[]}),i.login(n,s)}).catch(function(t){return console.log(t)})},t.prototype.login=function(t,e){var n=this;return new Promise(function(s,o){n.afAuth.auth.signInWithEmailAndPassword(t,e).then(function(e){n.afAuth.auth.currentUser.getToken().then(function(e){localStorage.setItem("token",e),localStorage.setItem("email",t),s()})}).catch(function(t){alert("there is a problem !: "+t.message),console.log(t),o()})})},t.prototype.logout=function(){this.afAuth.auth.signOut(),this.router.navigate(["/"]),localStorage.clear()},t.prototype.PassCodeChker=function(t){var e=this;return new Promise(function(n,s){t?e.db.list("/users",function(e){return e.orderByChild("PassCode").equalTo(t)}).valueChanges().subscribe(function(t){0!==t.length?n():s()}):s()})},t}()}});